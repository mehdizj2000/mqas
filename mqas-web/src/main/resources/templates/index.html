<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.com" xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout" layout:decorator="layout">
<head>
<meta charset="UTF-8">
<title>Users: view all</title>
<script type="text/javascript">
$(document)
.ready(
		function() {
			// the custom
			var addresses = new Bloodhound({
				datumTokenizer : Bloodhound.tokenizers.whitespace,
				queryTokenizer : Bloodhound.tokenizers.whitespace,
				remote : {
					url : '[[${apiUrl}]]',
//					url : '#{solr.api.url}',
					prepare : function(query, settings) {
						settings.url = this.url
								+ query.trim().replace(/\W+/g, ',');
						console.log(settings.url);
						return settings;
					}
				}
			});

			$('#the-custom .typeahead')
					.typeahead(
							{
								hint : true,
								highlight : true,
								minLength : 5
							},
							{
								name : 'addresses',
								source : addresses,
								display : function(item) {
									return item.flatType + ' '
											+ item.flatNumber + '/'
											+ item.numberFirst + ' '
											+ item.streetName + ' '
											+ item.streetTypeCode + ' '
											+ item.localityName + ' '
											+ item.postcode + ' '
											+ item.stateAbbreviation;
								},
								templates : {
									empty : [
											'<div class="empty-message">',
											'unable to find any Best Picture winners that match the current query',
											'</div>' ].join('\n'),
									suggestion : Handlebars
											.compile('<div>{{flatType}} {{flatNumber}}/{{numberFirst}} {{streetName}} {{streetTypeCode}} {{localityName}} {{postcode}} {{stateAbbreviation}}</div>')
								}
							});

		});
</script>

</head>
<body>
	<h1 layout:fragment="header">MQAS INFO</h1>
	<div layout:fragment="content" class="container">
		<div class="row">
			<div class="col-lg-2">
				<div class="container">
					<div id="the-custom">
						<input class="typeahead" type="text" placeholder="Addresses">
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-6">

				<div th:text='${apiUrl}'></div>
				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Metus aliquam eleifend mi in nulla
					posuere sollicitudin. Id leo in vitae turpis. Feugiat in fermentum posuere urna nec tincidunt praesent semper feugiat. Vulputate odio ut enim blandit volutpat
					maecenas. Sociis natoque penatibus et magnis dis parturient montes nascetur. Consectetur libero id faucibus nisl tincidunt eget. Iaculis urna id volutpat lacus laoreet
					non curabitur gravida arcu. Sit amet porttitor eget dolor morbi non arcu risus. Mauris pharetra et ultrices neque ornare. Semper viverra nam libero justo laoreet sit
					amet. Id aliquet risus feugiat in ante. Sed ullamcorper morbi tincidunt ornare massa eget egestas purus viverra. Eu consequat ac felis donec et odio. Ut tristique et
					egestas quis ipsum suspendisse ultrices gravida. Est ultricies integer quis auctor elit sed vulputate. Arcu dictum varius duis at consectetur lorem donec. Morbi quis
					commodo odio aenean sed.</p>


				<p>Non nisi est sit amet facilisis magna etiam. Risus commodo viverra maecenas accumsan. Auctor urna nunc id cursus metus. Adipiscing commodo elit at imperdiet. Vel
					pretium lectus quam id leo in vitae turpis massa. Neque volutpat ac tincidunt vitae semper quis lectus nulla at. Porttitor massa id neque aliquam vestibulum morbi
					blandit cursus. Libero nunc consequat interdum varius sit amet mattis vulputate enim. Leo vel fringilla est ullamcorper eget nulla. Sagittis nisl rhoncus mattis
					rhoncus urna neque. Id ornare arcu odio ut sem nulla pharetra diam sit. Fames ac turpis egestas maecenas pharetra. Rutrum tellus pellentesque eu tincidunt tortor
					aliquam nulla facilisi cras. Lectus quam id leo in vitae turpis massa sed.</p>
				<p>Praesent tristique magna sit amet purus gravida. Penatibus et magnis dis parturient montes. Lorem dolor sed viverra ipsum nunc aliquet. Venenatis cras sed felis
					eget velit aliquet. Magna sit amet purus gravida quis blandit turpis cursus. Sagittis eu volutpat odio facilisis mauris sit. Gravida rutrum quisque non tellus orci ac.
					Eget sit amet tellus cras adipiscing enim eu. Odio eu feugiat pretium nibh. Pharetra et ultrices neque ornare aenean.</p>

			</div>

			<div class="col-lg-6">
				<p>Vel pretium lectus quam id leo in vitae turpis massa. Ipsum a arcu cursus vitae. Elit duis tristique sollicitudin nibh sit amet. Urna condimentum mattis
					pellentesque id nibh tortor. Platea dictumst vestibulum rhoncus est pellentesque elit ullamcorper dignissim cras. Tortor at auctor urna nunc id cursus. Amet justo
					donec enim diam vulputate. Nulla posuere sollicitudin aliquam ultrices sagittis. Feugiat nisl pretium fusce id velit. Hac habitasse platea dictumst vestibulum rhoncus
					est.</p>

				<p>Libero enim sed faucibus turpis in eu mi bibendum neque. Libero id faucibus nisl tincidunt eget. Tortor id aliquet lectus proin. In iaculis nunc sed augue lacus
					viverra vitae congue eu. Diam vel quam elementum pulvinar etiam non quam lacus suspendisse. Sit amet aliquam id diam maecenas ultricies mi. Suscipit tellus mauris a
					diam maecenas sed enim. Consequat id porta nibh venenatis cras. Sed turpis tincidunt id aliquet risus feugiat in. Tellus rutrum tellus pellentesque eu tincidunt tortor
					aliquam nulla.</p>
			</div>

		</div>

	</div>
</body>
</html>